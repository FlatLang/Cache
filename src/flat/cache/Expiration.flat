package flat/cache

import flat/time

trait {
  visible Bool expired

  public static fromLifetimeMs(Long ms, Long start = Time.currentTimeMillis) => AbsoluteMsExpiration(start + ms)

  public static data class AbsoluteMsExpiration implements Expiration {
    visible Long ms

    visible Bool expired => Time.currentTimeMillis > ms
  }
}